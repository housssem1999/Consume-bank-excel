# Deployment Guide - Personal Finance Dashboard

This guide provides comprehensive instructions for deploying the Personal Finance Dashboard using free resources from GitHub Student Pack and GitHub's free offerings.

## üöÄ Deployment Options

### Option 1: Vercel (Frontend) + Railway/Render (Backend) - **RECOMMENDED**

#### Prerequisites
- GitHub account with Student Pack benefits
- Vercel account (free tier)
- Railway or Render account (free tier)

#### Step 1: Deploy Backend to Railway

1. **Sign up for Railway**: [railway.app](https://railway.app)
   - Connect your GitHub account
   - Get $5 free credit monthly

2. **Create new project**:
   ```bash
   # Fork this repository first
   # Then connect Railway to your GitHub account
   ```

3. **Deploy Spring Boot application**:
   - Select "Deploy from GitHub repo"
   - Choose your forked repository
   - Railway will auto-detect the Java application
   - Set environment variables:
     ```
     SPRING_PROFILES_ACTIVE=prod
     DATABASE_URL=postgresql://[generated by Railway]
     CORS_ALLOWED_ORIGINS=https://your-app.vercel.app
     ```

4. **Add PostgreSQL database**:
   - Click "New" ‚Üí "Database" ‚Üí "PostgreSQL"
   - Railway automatically sets DATABASE_URL

#### Step 2: Deploy Frontend to Vercel

1. **Sign up for Vercel**: [vercel.com](https://vercel.com)
   - Connect your GitHub account
   - Import your forked repository

2. **Configure build settings**:
   - Build Command: `cd frontend && CI=false npm run build`
   - Output Directory: `frontend/build`
   - Install Command: `cd frontend && npm install`

3. **Set environment variables**:
   ```
   CI=false
   REACT_APP_API_URL=https://your-backend.railway.app
   ```

4. **Deploy**:
   - Vercel will automatically deploy on every push to main branch

### Option 2: Heroku (Full Stack)

1. **Sign up for Heroku**: [heroku.com](https://heroku.com)
   - Student pack includes $13/month credits

2. **Install Heroku CLI and deploy**:
   ```bash
   # Install Heroku CLI
   npm install -g heroku

   # Login to Heroku
   heroku login

   # Create new app
   heroku create your-finance-dashboard

   # Add PostgreSQL addon
   heroku addons:create heroku-postgresql:hobby-dev

   # Set environment variables
   heroku config:set SPRING_PROFILES_ACTIVE=prod
   heroku config:set CORS_ALLOWED_ORIGINS=https://your-finance-dashboard.herokuapp.com

   # Deploy
   git push heroku main
   ```

### Option 3: Netlify (Frontend) + Render (Backend)

#### Backend on Render:
1. **Sign up for Render**: [render.com](https://render.com)
2. **Create Web Service**:
   - Connect GitHub repository
   - Build Command: `mvn clean package -DskipTests`
   - Start Command: `java -jar target/finance-dashboard-*.jar`
   - Add PostgreSQL database

#### Frontend on Netlify:
1. **Sign up for Netlify**: [netlify.com](https://netlify.com)
2. **Deploy from Git**:
   - Build Command: `cd frontend && CI=false npm run build`
   - Publish Directory: `frontend/build`

### Option 4: GitHub Pages + External Backend

1. **Deploy Frontend to GitHub Pages**:
   ```bash
   # Create gh-pages branch
   git checkout -b gh-pages
   
   # Build and deploy
   cd frontend
   CI=false npm run build
   
   # Deploy to GitHub Pages using GitHub Actions
   ```

2. **Use external services for backend** (Railway, Render, etc.)

## üê≥ Docker Deployment

### Local Docker Setup

```bash
# Clone repository
git clone https://github.com/your-username/Consume-bank-excel.git
cd Consume-bank-excel

# Build and run with Docker Compose
docker-compose up --build
```

### Deploy to Cloud with Docker

1. **Build and push images**:
   ```bash
   # Build images
   docker build -t your-username/finance-dashboard-backend .
   docker build -t your-username/finance-dashboard-frontend ./frontend

   # Push to Docker Hub
   docker push your-username/finance-dashboard-backend
   docker push your-username/finance-dashboard-frontend
   ```

2. **Deploy to cloud platforms**:
   - **DigitalOcean App Platform** (Student pack credits)
   - **AWS ECS** (Student pack credits)
   - **Google Cloud Run** (Student pack credits)

## üîß Configuration

### Environment Variables

#### Backend (Spring Boot)
```env
SPRING_PROFILES_ACTIVE=prod
DATABASE_URL=postgresql://username:password@host:port/database
DB_USERNAME=postgres
DB_PASSWORD=your_password
PORT=8080
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com
```

#### Frontend (React)
```env
REACT_APP_API_URL=https://your-backend-domain.com
REACT_APP_ENVIRONMENT=production
CI=false
```

### Database Setup

#### PostgreSQL (Production)
```sql
-- Create database
CREATE DATABASE financedb;

-- Create user (if needed)
CREATE USER financeuser WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE financedb TO financeuser;
```

## üöÄ CI/CD with GitHub Actions

The included GitHub Actions workflow (`.github/workflows/ci-cd.yml`) provides:

- **Continuous Integration**:
  - Backend tests with Maven
  - Frontend tests with npm
  - Docker builds

- **Continuous Deployment**:
  - Automatic deployment to staging/production
  - Environment-specific configurations

### Setting up GitHub Actions

1. **Add secrets to GitHub repository**:
   ```
   RAILWAY_TOKEN=your_railway_token
   VERCEL_TOKEN=your_vercel_token
   DATABASE_URL=your_production_database_url
   ```

2. **Configure deployment environments**:
   - Go to repository Settings ‚Üí Environments
   - Create "staging" and "production" environments
   - Add environment-specific secrets

## üí∞ Cost Breakdown (Free Tiers)

### Recommended Setup (Vercel + Railway)
- **Frontend (Vercel)**: Free tier
  - 100GB bandwidth/month
  - Unlimited sites
  - Custom domains

- **Backend (Railway)**: $5 credit/month
  - 500 hours runtime
  - 1GB RAM
  - PostgreSQL database

- **Total Monthly Cost**: $0 (within free credits)

### Alternative Setups
- **Heroku**: $0-$13/month (with student credits)
- **Netlify + Render**: $0 (free tiers)
- **GitHub Pages + Railway**: ~$3/month

## üîê Security Considerations

### Production Security Checklist
- [ ] Enable HTTPS (automatic with Vercel/Netlify)
- [ ] Configure CORS for production domains
- [ ] Use environment variables for secrets
- [ ] Enable database SSL connections
- [ ] Set up monitoring and logging
- [ ] Configure rate limiting
- [ ] Enable security headers

### Environment Variables Security
```bash
# Never commit these to version control
echo "*.env" >> .gitignore
echo ".env.local" >> .gitignore
echo ".env.production" >> .gitignore
```

## üêõ Troubleshooting

### Common Issues

1. **CORS Errors**:
   ```bash
   # Update CORS_ALLOWED_ORIGINS environment variable
   export CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com
   ```

2. **Database Connection Issues**:
   ```bash
   # Check DATABASE_URL format
   postgresql://username:password@host:port/database
   ```

3. **Build Failures**:
   ```bash
   # Frontend build issues
   CI=false npm run build
   
   # Backend build issues
   mvn clean install -DskipTests
   ```

4. **Memory Issues**:
   - Increase allocated memory in deployment platform
   - Optimize build process
   - Use smaller Docker base images

## üìö Additional Resources

### Student Pack Benefits
- **GitHub Student Pack**: [education.github.com](https://education.github.com/pack)
- **Heroku Credits**: $13/month for students
- **DigitalOcean Credits**: $200 for 1 year
- **AWS Credits**: $75-$150 for students
- **Azure Credits**: $100 for students

### Documentation Links
- [Vercel Deployment](https://vercel.com/docs)
- [Railway Deployment](https://docs.railway.app)
- [Render Deployment](https://render.com/docs)
- [Heroku Deployment](https://devcenter.heroku.com)

## üÜò Support

If you encounter issues:

1. Check the [GitHub Issues](https://github.com/your-username/Consume-bank-excel/issues)
2. Review deployment logs in your chosen platform
3. Verify all environment variables are set correctly
4. Test locally with Docker first

## üéØ Next Steps

After successful deployment:

1. **Custom Domain**: Configure custom domain (free with most platforms)
2. **Monitoring**: Set up application monitoring
3. **Backups**: Configure database backups
4. **Analytics**: Add usage analytics
5. **CDN**: Configure CDN for better performance